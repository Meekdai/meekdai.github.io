<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark" data-light-theme="light">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="https://unpkg.com/@primer/css@21.0.7/dist/primer.css" rel="stylesheet" />
    <link rel="icon" href="https://meekdai.com/favicon.ico">
    <title>Meekdai</title>
</head>
<style>
body{
    box-sizing: border-box;
    min-width: 200px;
    max-width: 900px;
    margin: 20px auto;
    padding: 45px;
    font-size: 16px;
    font-family: sans-serif;
    line-height: 1.25;
}
.avatar {transition: 0.8s;}
.avatar:hover {transform: scale(1.15) rotate(360deg);}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin: 40px auto; text-align: center;font-size: small;}

</style>

<style>
h1 a:not([href]){color:inherit;text-decoration:none;vertical-align: bottom;font-size:40px;font-family:Monaco;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#cmButton{height:48px;margin-top:48px;}
</style>


<body>
    <div id="header">
<h1>
    <a>Allegro封装建库程序化</a>
</h1>
<div class="title-right">

    <button id="buttonHome" class="btn btn-invisible circle" onclick="window.location.href='/'" title="首页">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </button>

    <button class="btn btn-invisible circle" onclick="window.open('https://github.com/Meekdai/meekdai.github.io/issues/3')" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </button>

    <button id="changeTheme" class="btn btn-invisible circle" onclick="modeSwitch()" title="切换主题">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </button>

</div>
</div>
    <div id="content">
<div class="markdown-body">
<p>在进行allegro封装建库的时候，我通常会使用FPM这个软件，因为通过这个软件，我就可以用代码来建立PCB封装。FPM这个软件网上可以下载到的版本是<code>0.0.8</code>，它内置了许多常用的封装类型，简单的填写一些参数就可以生产一个标准的封装。</p>
<p>除此之外，有些特殊的封装可以自定义，通过编写<code>skill</code>的<code>il</code>文件来实现。下面是一些常用的语句。</p>
<h3><a id="user-content-注释部分" class="anchor" aria-hidden="true" href="#注释部分"><span aria-hidden="true" class="octicon octicon-link"></span></a>注释部分</h3>
<pre><code>;FPM skill by Meekdai
;Tree:Meekdai/RJ45 Connector
;Desc:W5500
;Vendor:Meekdai
;Count:1
;Datasheet:https://item.szlcsc.com/12651.html
</code></pre>
<h3><a id="user-content-开头引入" class="anchor" aria-hidden="true" href="#开头引入"><span aria-hidden="true" class="octicon octicon-link"></span></a>开头引入</h3>
<pre><code>sprintf(pName,"W5500")
_PrepareNewSym(pName)
</code></pre>
<h3><a id="user-content-定义焊盘" class="anchor" aria-hidden="true" href="#定义焊盘"><span aria-hidden="true" class="octicon octicon-link"></span></a>定义焊盘</h3>
<pre><code>PadT = _PadTH_Default(2.5 1.7)
PadT1 = _PadTH_Default(2.5 2.5)
PadS = _PadSMFillet(0.72 0.6)
PadN = _PadSM(0.8 2.8) ;圆边焊盘
PadC = _Pad_Slot(4.0 1.8 2.8 0.8)
</code></pre>
<h3><a id="user-content-创建焊盘" class="anchor" aria-hidden="true" href="#创建焊盘"><span aria-hidden="true" class="octicon octicon-link"></span></a>创建焊盘</h3>
<pre><code>_CreatePin(PadT -4.445:-4.355 "1")
_CreatePinMechanical(PadT1 -5.715:1.995)
</code></pre>
<h3><a id="user-content-使用循环" class="anchor" aria-hidden="true" href="#使用循环"><span aria-hidden="true" class="octicon octicon-link"></span></a>使用循环</h3>
<pre><code>for(i 1 num _CreatePin(PadTH2 pitch*(i-1):0 i)))
</code></pre>
<p>其中i从1开始，一直到num，每次执行一次</p>
<h3><a id="user-content-使用条件语句" class="anchor" aria-hidden="true" href="#使用条件语句"><span aria-hidden="true" class="octicon octicon-link"></span></a>使用条件语句</h3>
<pre><code>if(i==1 _CreatePin(PadTH1 0:0 i) _CreatePin(PadTH2 pitch*(i-1):0 i))
</code></pre>
<p>如果i等于1就执行第一个语句使用PadTH1，否则用第二个语句使用PadTH2</p>
<p>更多内容可以参考官方文档x:\Cadence\SPB_16.x\doc\sklangref\sklangref.pdf</p>
<h3><a id="user-content-创建丝印" class="anchor" aria-hidden="true" href="#创建丝印"><span aria-hidden="true" class="octicon octicon-link"></span></a>创建丝印</h3>
<pre><code>_Layer(lPkgGeoSilkT) _Rectangle(15.8 20.8 0:0)
_Layer(lPkgGeoSilkT) _Circle(0.254 1.7:1.7)
_Layer(lPkgGeoSilkT) _Line(list(2.5:2.5 -2.5:2.5))
</code></pre>
<h3><a id="user-content-创建位号" class="anchor" aria-hidden="true" href="#创建位号"><span aria-hidden="true" class="octicon octicon-link"></span></a>创建位号</h3>
<pre><code>_CreateRefValue(pName -3:5 -3:5)
</code></pre>
<h3><a id="user-content-完成创建" class="anchor" aria-hidden="true" href="#完成创建"><span aria-hidden="true" class="octicon octicon-link"></span></a>完成创建</h3>
<pre><code>_SaveDesign(pName)
</code></pre>

</div>
<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton" value="Meekdai/meekdai.github.io">评论</button>
<div class="comments" id="comments"></div>
</div>
    <div id="footer">Copyright © <span id="year"></span> <a href="https://blog.meekdai.com"> Meekdai </a><p> 浙ICP备20023628号 <span id="runday"></span>Powered by <a href="https://github.com/Meekdai/Gmeek" target="_blank">Gmeek</a></p>

<script>
if("02/16/2015"!=""){
    var now=new Date();
    var startSite=new Date("02/16/2015");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("year").innerHTML=now.getFullYear();
    if("浙ICP备20023628号"!=""){document.getElementById("runday").innerHTML=" • "+"网站运行"+diffDay+"天"+" • ";}
    else{document.getElementById("runday").innerHTML="网站运行"+diffDay+"天"+" • ";}
}
</script>
</div>
</body>
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Meekdai/Gmeek@main/icon.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Meekdai/Gmeek@main/Gmeek.js"></script>
<script>
console.log("\n %c Gmeek main %c https://github.com/Meekdai/Gmeek \n\n", "color: #fff; background-image: linear-gradient(90deg, rgb(47, 172, 178) 0%, rgb(45, 190, 96) 100%); padding:5px 1px;", "background-image: linear-gradient(90deg, rgb(45, 190, 96) 0%, rgb(255, 255, 255) 100%); padding:5px 0;");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);

</script>

</html>
